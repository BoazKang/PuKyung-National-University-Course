<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>API테스트</title>
</head>
<body>
	<p id="demo"></p>
	<script type="text/javascript">

	let xhttp = new XMLHttpRequest();

	xhttp.onreadystatechange = function () {
		
		if(this.readyState == 4 && this.status == 200){
		nodeValfunc( this ); // this == xhttp 
		}
	};
	xhttp.open("GET", "static/xml/data.xml", true);
	xhttp.send();

	function nodeValfunc( xml ) { // ( xml ) 객체 넘겨받기
		let statNm, lat, lng;
		let txt, numtxt, xmlDoc;
		
		txt = numtxt = ''; // 빈 문자열로 초기화
		
		xmlDoc = xml.responseXML; 
		
		statNm = xmlDoc.getElementsByTagName("statNm");
		lat = xmlDoc.getElementsByTagName("lat");
		lng = xmlDoc.getElementsByTagName("lng");
		console.log(num.length);
		
		for(i=0; i < 5; i++){
			numtxt += statNm[i].childNodes[0].nodeValue + "<br>";
			numtxt += lat[i].childNodes[0].nodeValue + "<br>";
			numtxt += lng[i].childNodes[0].nodeValue + "<br>";
		};
		
		document.getElementById("demo").innerHTML = txt + numtxt;
		// 실행하면 번호와 이름이 p태그에 출력된다.
	};

	</script>

	<div id="map" style="width:800px;height:800px;"></div>
	<script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=0160452ac1e751f5a3b74d3e62719403&libraries=clusterer"></script>
	{% load static %}
	<script src="{% static 'js/map_basic.js' %}"></script>
	<!-- <script src="{% static 'js/map_page copy.js' %}"></script> -->
	<!-- <script src="{% static 'js/map_1.js' %}"></script> -->
	<script src="{% static 'js/map_mark.js' %}"></script>
	
</body>
</html>